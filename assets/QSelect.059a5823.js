import{u as pt,a as Ct}from"./use-dark.4fdee243.js";import{c as b,x as be,r as H,a as ln,y as kt,h as M,ae as nn,af as on,ag as an,ah as lt,ai as zt,w as G,I as ce,L as Xe,D as Te,g as re,aj as Sl,B as Wt,ak as Mt,a4 as qt,a3 as Vt,al as yl,am as wl,i as un,o as nt,an as rn,M as he,U as ie,O as me,Q as bt,ao as sn,N as xl,H as ge,K as Qt,J as cn,ap as St,W as dn,C as fn,R as vn,aq as mn,ar as Ie}from"./index.5da81bef.js";import{Q as Ut,a as hn,b as dt,c as Zt,d as gn,s as bn,g as Sn}from"./QResizeObserver.33c71edc.js";import{u as pl,a as Cl,b as kl,c as yn,d as wn,T as Yt}from"./TouchPan.14d0c7af.js";import{b as Pe,n as Xt}from"./format.054b8074.js";import{u as zl,c as Ml}from"./private.use-form.34e5bfee.js";import{r as Gt,b as xn,a as ot,c as pn}from"./TouchSwipe.3cb53dcd.js";import{a as ql,u as Cn,r as yt}from"./rtl.5e789f7b.js";import{Q as kn}from"./QChip.e8558ed0.js";import{Q as zn,a as Mn}from"./QItem.c441e436.js";import{Q as qn}from"./QItemLabel.f9559889.js";import{u as Vl,c as Vn}from"./selection.bec2700a.js";import{p as De,c as An}from"./ClosePopup.6f2a9f97.js";const Al={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function El(e,t=()=>{},n=()=>{}){return{transitionProps:b(()=>{const o=`q-transition--${e.transitionShow||t()}`,c=`q-transition--${e.transitionHide||n()}`;return{appear:!0,enterFromClass:`${o}-enter-from`,enterActiveClass:`${o}-enter-active`,enterToClass:`${o}-enter-to`,leaveFromClass:`${c}-leave-from`,leaveActiveClass:`${c}-leave-active`,leaveToClass:`${c}-leave-to`}}),transitionStyle:b(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}const En=be({name:"QPortal",setup(e,{slots:t}){return()=>t.default()}});function _n(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function _l(e,t,n,o){const c=H(!1),u=H(!1);let r=null;const i={},g=o==="dialog"&&_n(e);function x(y){if(y===!0){Gt(i),u.value=!0;return}u.value=!1,c.value===!1&&(g===!1&&r===null&&(r=on(!1,o)),c.value=!0,De.push(e.proxy),xn(i))}function d(y){if(u.value=!1,y!==!0)return;Gt(i),c.value=!1;const F=De.indexOf(e.proxy);F!==-1&&De.splice(F,1),r!==null&&(an(r),r=null)}return ln(()=>{d(!0)}),e.proxy.__qPortal=!0,kt(e.proxy,"contentEl",()=>t.value),{showPortal:x,hidePortal:d,portalIsActive:c,portalIsAccessible:u,renderPortal:()=>g===!0?n():c.value===!0?[M(nn,{to:r},M(En,n))]:void 0}}const pe=[];let Be;function Tn(e){Be=e.keyCode===27}function Fn(){Be===!0&&(Be=!1)}function Bn(e){Be===!0&&(Be=!1,zt(e,27)===!0&&pe[pe.length-1](e))}function Tl(e){window[e]("keydown",Tn),window[e]("blur",Fn),window[e]("keyup",Bn),Be=!1}function Fl(e){lt.is.desktop===!0&&(pe.push(e),pe.length===1&&Tl("addEventListener"))}function Ge(e){const t=pe.indexOf(e);t!==-1&&(pe.splice(t,1),pe.length===0&&Tl("removeEventListener"))}const Ce=[];function Bl(e){Ce[Ce.length-1](e)}function Rl(e){lt.is.desktop===!0&&(Ce.push(e),Ce.length===1&&document.body.addEventListener("focusin",Bl))}function wt(e){const t=Ce.indexOf(e);t!==-1&&(Ce.splice(t,1),Ce.length===0&&document.body.removeEventListener("focusin",Bl))}let Ue=0;const Rn={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},Jt={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var On=be({name:"QDialog",inheritAttrs:!1,props:{...pl,...Al,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:e=>["standard","top","bottom","left","right"].includes(e)}},emits:[...Cl,"shake","click","escapeKey"],setup(e,{slots:t,emit:n,attrs:o}){const c=re(),u=H(null),r=H(!1),i=H(!1);let g=null,x=null,d,y;const F=b(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:h}=wn(),{registerTimeout:q}=Vl(),{registerTick:Y,removeTick:D}=ql(),{transitionProps:X,transitionStyle:Q}=El(e,()=>Jt[e.position][0],()=>Jt[e.position][1]),N=b(()=>Q.value+(e.backdropFilter!==void 0?`;backdrop-filter:${e.backdropFilter};-webkit-backdrop-filter:${e.backdropFilter}`:"")),{showPortal:$,hidePortal:K,portalIsAccessible:B,renderPortal:O}=_l(c,u,Z,"dialog"),{hide:L}=kl({showing:r,hideOnRouteChange:F,handleShow:C,handleHide:k,processOnMount:!0}),{addToHistory:m,removeFromHistory:S}=yn(r,L,F),_=b(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Rn[e.position]}`+(i.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),v=b(()=>r.value===!0&&e.seamless!==!0),P=b(()=>e.autoClose===!0?{onClick:a}:{}),f=b(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${v.value===!0?"modal":"seamless"}`,o.class]);G(()=>e.maximized,w=>{r.value===!0&&s(w)}),G(v,w=>{h(w),w===!0?(Rl(W),Fl(R)):(wt(W),Ge(R))});function C(w){m(),x=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,s(e.maximized),$(),i.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),Y(I)):D(),q(()=>{if(c.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:E,bottom:J}=document.activeElement.getBoundingClientRect(),{innerHeight:z}=window,le=window.visualViewport!==void 0?window.visualViewport.height:z;E>0&&J>le/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-le,J>=z?1/0:Math.ceil(document.scrollingElement.scrollTop+J-le/2))),document.activeElement.scrollIntoView()}y=!0,u.value.click(),y=!1}$(!0),i.value=!1,n("show",w)},e.transitionDuration)}function k(w){D(),S(),j(!0),i.value=!0,K(),x!==null&&(((w&&w.type.indexOf("key")===0?x.closest('[tabindex]:not([tabindex^="-"])'):void 0)||x).focus(),x=null),q(()=>{K(!0),i.value=!1,n("hide",w)},e.transitionDuration)}function I(w){ot(()=>{let E=u.value;if(E!==null){if(w!==void 0){const J=E.querySelector(w);if(J!==null){J.focus({preventScroll:!0});return}}E.contains(document.activeElement)!==!0&&(E=E.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||E.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||E.querySelector("[autofocus], [data-autofocus]")||E,E.focus({preventScroll:!0}))}})}function p(w){w&&typeof w.focus=="function"?w.focus({preventScroll:!0}):I(),n("shake");const E=u.value;E!==null&&(E.classList.remove("q-animate--scale"),E.classList.add("q-animate--scale"),g!==null&&clearTimeout(g),g=setTimeout(()=>{g=null,u.value!==null&&(E.classList.remove("q-animate--scale"),I())},170))}function R(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&p():(n("escapeKey"),L()))}function j(w){g!==null&&(clearTimeout(g),g=null),(w===!0||r.value===!0)&&(s(!1),e.seamless!==!0&&(h(!1),wt(W),Ge(R))),w!==!0&&(x=null)}function s(w){w===!0?d!==!0&&(Ue<1&&document.body.classList.add("q-body--dialog"),Ue++,d=!0):d===!0&&(Ue<2&&document.body.classList.remove("q-body--dialog"),Ue--,d=!1)}function a(w){y!==!0&&(L(w),n("click",w))}function T(w){e.persistent!==!0&&e.noBackdropDismiss!==!0?L(w):e.noShake!==!0&&p()}function W(w){e.allowFocusOutside!==!0&&B.value===!0&&Sl(u.value,w.target)!==!0&&I('[tabindex]:not([tabindex="-1"])')}Object.assign(c.proxy,{focus:I,shake:p,__updateRefocusTarget(w){x=w||null}}),ce(j);function Z(){return M("div",{role:"dialog","aria-modal":v.value===!0?"true":"false",...o,class:f.value},[M(Xe,{name:"q-transition--fade",appear:!0},()=>v.value===!0?M("div",{class:"q-dialog__backdrop fixed-full",style:N.value,"aria-hidden":"true",tabindex:-1,onClick:T}):null),M(Xe,X.value,()=>r.value===!0?M("div",{ref:u,class:_.value,style:Q.value,tabindex:-1,...P.value},Te(t.default)):null)])}return O}}),Hn=be({props:["store","barStyle","verticalBarStyle","horizontalBarStyle"],setup(e){return()=>[M("div",{class:e.store.scroll.vertical.barClass.value,style:[e.barStyle,e.verticalBarStyle],"aria-hidden":"true",onMousedown:e.store.onVerticalMousedown}),M("div",{class:e.store.scroll.horizontal.barClass.value,style:[e.barStyle,e.horizontalBarStyle],"aria-hidden":"true",onMousedown:e.store.onHorizontalMousedown}),Wt(M("div",{ref:e.store.scroll.vertical.ref,class:e.store.scroll.vertical.thumbClass.value,style:e.store.scroll.vertical.style.value,"aria-hidden":"true"}),e.store.thumbVertDir),Wt(M("div",{ref:e.store.scroll.horizontal.ref,class:e.store.scroll.horizontal.thumbClass.value,style:e.store.scroll.horizontal.style.value,"aria-hidden":"true"}),e.store.thumbHorizDir)]}});const el=["vertical","horizontal"],ft={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},tl={prevent:!0,mouse:!0,mouseAllDir:!0},ll=e=>e>=250?50:Math.ceil(e/5);var Ao=be({name:"QScrollArea",props:{...pt,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],verticalOffset:{type:Array,default:[0,0]},horizontalOffset:{type:Array,default:[0,0]},contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(e,{slots:t,emit:n}){const o=H(!1),c=H(!1),u=H(!1),r={vertical:H(0),horizontal:H(0)},i={vertical:{ref:H(null),position:H(0),size:H(0)},horizontal:{ref:H(null),position:H(0),size:H(0)}},{proxy:g}=re(),x=Ct(e,g.$q);let d=null,y;const F=H(null),h=b(()=>"q-scrollarea"+(x.value===!0?" q-scrollarea--dark":""));Object.assign(r,{verticalInner:b(()=>r.vertical.value-e.verticalOffset[0]-e.verticalOffset[1]),horizontalInner:b(()=>r.horizontal.value-e.horizontalOffset[0]-e.horizontalOffset[1])}),i.vertical.percentage=b(()=>{const f=i.vertical.size.value-r.vertical.value;if(f<=0)return 0;const C=Pe(i.vertical.position.value/f,0,1);return Math.round(C*1e4)/1e4}),i.vertical.thumbHidden=b(()=>(e.visible===null?u.value:e.visible)!==!0&&o.value===!1&&c.value===!1||i.vertical.size.value<=r.vertical.value+1),i.vertical.thumbStart=b(()=>e.verticalOffset[0]+i.vertical.percentage.value*(r.verticalInner.value-i.vertical.thumbSize.value)),i.vertical.thumbSize=b(()=>Math.round(Pe(r.verticalInner.value*r.verticalInner.value/i.vertical.size.value,ll(r.verticalInner.value),r.verticalInner.value))),i.vertical.style=b(()=>({...e.thumbStyle,...e.verticalThumbStyle,top:`${i.vertical.thumbStart.value}px`,height:`${i.vertical.thumbSize.value}px`,right:`${e.horizontalOffset[1]}px`})),i.vertical.thumbClass=b(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(i.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),i.vertical.barClass=b(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(i.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),i.horizontal.percentage=b(()=>{const f=i.horizontal.size.value-r.horizontal.value;if(f<=0)return 0;const C=Pe(Math.abs(i.horizontal.position.value)/f,0,1);return Math.round(C*1e4)/1e4}),i.horizontal.thumbHidden=b(()=>(e.visible===null?u.value:e.visible)!==!0&&o.value===!1&&c.value===!1||i.horizontal.size.value<=r.horizontal.value+1),i.horizontal.thumbStart=b(()=>e.horizontalOffset[0]+i.horizontal.percentage.value*(r.horizontalInner.value-i.horizontal.thumbSize.value)),i.horizontal.thumbSize=b(()=>Math.round(Pe(r.horizontalInner.value*r.horizontalInner.value/i.horizontal.size.value,ll(r.horizontalInner.value),r.horizontalInner.value))),i.horizontal.style=b(()=>({...e.thumbStyle,...e.horizontalThumbStyle,[g.$q.lang.rtl===!0?"right":"left"]:`${i.horizontal.thumbStart.value}px`,width:`${i.horizontal.thumbSize.value}px`,bottom:`${e.verticalOffset[1]}px`})),i.horizontal.thumbClass=b(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(i.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),i.horizontal.barClass=b(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(i.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const q=b(()=>i.vertical.thumbHidden.value===!0&&i.horizontal.thumbHidden.value===!0?e.contentStyle:e.contentActiveStyle);function Y(){const f={};return el.forEach(C=>{const k=i[C];Object.assign(f,{[C+"Position"]:k.position.value,[C+"Percentage"]:k.percentage.value,[C+"Size"]:k.size.value,[C+"ContainerSize"]:r[C].value,[C+"ContainerInnerSize"]:r[C+"Inner"].value})}),f}const D=Mt(()=>{const f=Y();f.ref=g,n("scroll",f)},0);function X(f,C,k){if(el.includes(f)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(f==="vertical"?Zt:dt)(F.value,C,k)}function Q({height:f,width:C}){let k=!1;r.vertical.value!==f&&(r.vertical.value=f,k=!0),r.horizontal.value!==C&&(r.horizontal.value=C,k=!0),k===!0&&O()}function N({position:f}){let C=!1;i.vertical.position.value!==f.top&&(i.vertical.position.value=f.top,C=!0),i.horizontal.position.value!==f.left&&(i.horizontal.position.value=f.left,C=!0),C===!0&&O()}function $({height:f,width:C}){i.horizontal.size.value!==C&&(i.horizontal.size.value=C,O()),i.vertical.size.value!==f&&(i.vertical.size.value=f,O())}function K(f,C){const k=i[C];if(f.isFirst===!0){if(k.thumbHidden.value===!0)return;y=k.position.value,c.value=!0}else if(c.value!==!0)return;f.isFinal===!0&&(c.value=!1);const I=ft[C],p=(k.size.value-r[C].value)/(r[C+"Inner"].value-k.thumbSize.value),R=f.distance[I.dist],j=y+(f.direction===I.dir?1:-1)*R*p;L(j,C)}function B(f,C){const k=i[C];if(k.thumbHidden.value!==!0){const I=C==="vertical"?e.verticalOffset[0]:e.horizontalOffset[0],p=f[ft[C].offset]-I,R=k.thumbStart.value-I;if(p<R||p>R+k.thumbSize.value){const j=p-k.thumbSize.value/2,s=Pe(j/(r[C+"Inner"].value-k.thumbSize.value),0,1);L(s*Math.max(0,k.size.value-r[C].value),C)}k.ref.value!==null&&k.ref.value.dispatchEvent(new MouseEvent(f.type,f))}}function O(){o.value=!0,d!==null&&clearTimeout(d),d=setTimeout(()=>{d=null,o.value=!1},e.delay),e.onScroll!==void 0&&D()}function L(f,C){F.value[ft[C].scroll]=f}let m=null;function S(){m!==null&&clearTimeout(m),m=setTimeout(()=>{m=null,u.value=!0},g.$q.platform.is.ios?50:0)}function _(){m!==null&&(clearTimeout(m),m=null),u.value=!1}let v=null;G(()=>g.$q.lang.rtl,f=>{F.value!==null&&dt(F.value,Math.abs(i.horizontal.position.value)*(f===!0?-1:1))}),qt(()=>{v={top:i.vertical.position.value,left:i.horizontal.position.value}}),Vt(()=>{if(v===null)return;const f=F.value;f!==null&&(dt(f,v.left),Zt(f,v.top))}),ce(D.cancel),Object.assign(g,{getScrollTarget:()=>F.value,getScroll:Y,getScrollPosition:()=>({top:i.vertical.position.value,left:i.horizontal.position.value}),getScrollPercentage:()=>({top:i.vertical.percentage.value,left:i.horizontal.percentage.value}),setScrollPosition:X,setScrollPercentage(f,C,k){X(f,C*(i[f].size.value-r[f].value)*(f==="horizontal"&&g.$q.lang.rtl===!0?-1:1),k)}});const P={scroll:i,thumbVertDir:[[Yt,f=>{K(f,"vertical")},void 0,{vertical:!0,...tl}]],thumbHorizDir:[[Yt,f=>{K(f,"horizontal")},void 0,{horizontal:!0,...tl}]],onVerticalMousedown(f){B(f,"vertical")},onHorizontalMousedown(f){B(f,"horizontal")}};return()=>M("div",{class:h.value,onMouseenter:S,onMouseleave:_},[M("div",{ref:F,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:e.tabindex!==void 0?e.tabindex:void 0},[M("div",{class:"q-scrollarea__content absolute",style:q.value},yl(t.default,[M(Ut,{debounce:0,onResize:$})])),M(hn,{axis:"both",onScroll:N})]),M(Ut,{debounce:0,onResize:Q}),M(Hn,{store:P,barStyle:e.barStyle,verticalBarStyle:e.verticalBarStyle,horizontalBarStyle:e.horizontalBarStyle})])}});const nl=/^on[A-Z]/;function In(){const{attrs:e,vnode:t}=re(),n={listeners:H({}),attributes:H({})};function o(){const c={},u={};for(const r in e)r!=="class"&&r!=="style"&&nl.test(r)===!1&&(c[r]=e[r]);for(const r in t.props)nl.test(r)===!0&&(u[r]=t.props[r]);n.attributes.value=c,n.listeners.value=u}return wl(o),o(),n}function Pn({validate:e,resetValidation:t,requiresQForm:n}){const o=un(rn,!1);if(o!==!1){const{props:c,proxy:u}=re();Object.assign(u,{validate:e,resetValidation:t}),G(()=>c.disable,r=>{r===!0?(typeof t=="function"&&t(),o.unbindComponent(u)):o.bindComponent(u)}),nt(()=>{c.disable!==!0&&o.bindComponent(u)}),ce(()=>{c.disable!==!0&&o.unbindComponent(u)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const ol=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,al=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,il=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,Ze=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,Ye=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,vt={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>ol.test(e),hexaColor:e=>al.test(e),hexOrHexaColor:e=>il.test(e),rgbColor:e=>Ze.test(e),rgbaColor:e=>Ye.test(e),rgbOrRgbaColor:e=>Ze.test(e)||Ye.test(e),hexOrRgbColor:e=>ol.test(e)||Ze.test(e),hexaOrRgbaColor:e=>al.test(e)||Ye.test(e),anyColor:e=>il.test(e)||Ze.test(e)||Ye.test(e)},$n=[!0,!1,"ondemand"],Dn={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:e=>$n.includes(e)}};function Ln(e,t){const{props:n,proxy:o}=re(),c=H(!1),u=H(null),r=H(!1);Pn({validate:Y,resetValidation:q});let i=0,g;const x=b(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length!==0),d=b(()=>n.disable!==!0&&x.value===!0&&t.value===!1),y=b(()=>n.error===!0||c.value===!0),F=b(()=>typeof n.errorMessage=="string"&&n.errorMessage.length!==0?n.errorMessage:u.value);G(()=>n.modelValue,()=>{r.value=!0,d.value===!0&&n.lazyRules===!1&&D()});function h(){n.lazyRules!=="ondemand"&&d.value===!0&&r.value===!0&&D()}G(()=>n.reactiveRules,X=>{X===!0?g===void 0&&(g=G(()=>n.rules,h,{immediate:!0,deep:!0})):g!==void 0&&(g(),g=void 0)},{immediate:!0}),G(()=>n.lazyRules,h),G(e,X=>{X===!0?r.value=!0:d.value===!0&&n.lazyRules!=="ondemand"&&D()});function q(){i++,t.value=!1,r.value=!1,c.value=!1,u.value=null,D.cancel()}function Y(X=n.modelValue){if(n.disable===!0||x.value===!1)return!0;const Q=++i,N=t.value!==!0?()=>{r.value=!0}:()=>{},$=(B,O)=>{B===!0&&N(),c.value=B,u.value=O||null,t.value=!1},K=[];for(let B=0;B<n.rules.length;B++){const O=n.rules[B];let L;if(typeof O=="function"?L=O(X,vt):typeof O=="string"&&vt[O]!==void 0&&(L=vt[O](X)),L===!1||typeof L=="string")return $(!0,L),!1;L!==!0&&L!==void 0&&K.push(L)}return K.length===0?($(!1),!0):(t.value=!0,Promise.all(K).then(B=>{if(B===void 0||Array.isArray(B)===!1||B.length===0)return Q===i&&$(!1),!0;const O=B.find(L=>L===!1||typeof L=="string");return Q===i&&$(O!==void 0,O),O===void 0},B=>(Q===i&&(console.error(B),$(!0)),!1)))}const D=Mt(Y,0);return ce(()=>{g!==void 0&&g(),D.cancel()}),Object.assign(o,{resetValidation:q,validate:Y}),kt(o,"hasError",()=>y.value),{isDirtyModel:r,hasRules:x,hasError:y,errorMessage:F,validate:Y,resetValidation:q}}function Le(e){return e!=null&&(""+e).length!==0}const jn={...pt,...Dn,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String},at={...jn,maxlength:[Number,String]},At=["update:modelValue","clear","focus","blur"];function Et({requiredForAttr:e=!0,tagProp:t,changeEvent:n=!1}={}){const{props:o,proxy:c}=re(),u=Ct(o,c.$q),r=Cn({required:e,getValue:()=>o.for});return{requiredForAttr:e,changeEvent:n,tag:t===!0?b(()=>o.tag):{value:"label"},isDark:u,editable:b(()=>o.disable!==!0&&o.readonly!==!0),innerLoading:H(!1),focused:H(!1),hasPopupOpen:!1,splitAttrs:In(),targetUid:r,rootRef:H(null),targetRef:H(null),controlRef:H(null)}}function _t(e){const{props:t,emit:n,slots:o,attrs:c,proxy:u}=re(),{$q:r}=u;let i=null;e.hasValue===void 0&&(e.hasValue=b(()=>Le(t.modelValue))),e.emitValue===void 0&&(e.emitValue=p=>{n("update:modelValue",p)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:m,onFocusout:S}),Object.assign(e,{clearValue:_,onControlFocusin:m,onControlFocusout:S,focus:O}),e.computedCounter===void 0&&(e.computedCounter=b(()=>{if(t.counter!==!1){const p=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,R=t.maxlength!==void 0?t.maxlength:t.maxValues;return p+(R!==void 0?" / "+R:"")}}));const{isDirtyModel:g,hasRules:x,hasError:d,errorMessage:y,resetValidation:F}=Ln(e.focused,e.innerLoading),h=e.floatingLabel!==void 0?b(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):b(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),q=b(()=>t.bottomSlots===!0||t.hint!==void 0||x.value===!0||t.counter===!0||t.error!==null),Y=b(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),D=b(()=>`q-field row no-wrap items-start q-field--${Y.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(h.value===!0?" q-field--float":"")+(Q.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(d.value===!0?" q-field--error":"")+(d.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&q.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),X=b(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(d.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),Q=b(()=>t.labelSlot===!0||t.label!==void 0),N=b(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&d.value!==!0?` text-${t.labelColor}`:"")),$=b(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:h.value,modelValue:t.modelValue,emitValue:e.emitValue})),K=b(()=>{const p={};return e.targetUid.value&&(p.for=e.targetUid.value),t.disable===!0&&(p["aria-disabled"]="true"),p});function B(){const p=document.activeElement;let R=e.targetRef!==void 0&&e.targetRef.value;R&&(p===null||p.id!==e.targetUid.value)&&(R.hasAttribute("tabindex")===!0||(R=R.querySelector("[tabindex]")),R&&R!==p&&R.focus({preventScroll:!0}))}function O(){ot(B)}function L(){pn(B);const p=document.activeElement;p!==null&&e.rootRef.value.contains(p)&&p.blur()}function m(p){i!==null&&(clearTimeout(i),i=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,n("focus",p))}function S(p,R){i!==null&&clearTimeout(i),i=setTimeout(()=>{i=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,n("blur",p)),R!==void 0&&R())})}function _(p){he(p),r.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),n("update:modelValue",null),e.changeEvent===!0&&n("change",null),n("clear",t.modelValue),ie(()=>{const R=g.value;F(),g.value=R})}function v(p){[13,32].includes(p.keyCode)&&_(p)}function P(){const p=[];return o.prepend!==void 0&&p.push(M("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:me},o.prepend())),p.push(M("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},f())),d.value===!0&&t.noErrorIcon===!1&&p.push(k("error",[M(bt,{name:r.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?p.push(k("inner-loading-append",o.loading!==void 0?o.loading():[M(sn,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&p.push(k("inner-clearable-append",[M(bt,{class:"q-field__focusable-action",name:t.clearIcon||r.iconSet.field.clear,tabindex:0,role:"button","aria-hidden":"false","aria-label":r.lang.label.clear,onKeyup:v,onClick:_})])),o.append!==void 0&&p.push(M("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:me},o.append())),e.getInnerAppend!==void 0&&p.push(k("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&p.push(e.getControlChild()),p}function f(){const p=[];return t.prefix!==void 0&&t.prefix!==null&&p.push(M("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&p.push(e.getShadowControl()),e.getControl!==void 0?p.push(e.getControl()):o.rawControl!==void 0?p.push(o.rawControl()):o.control!==void 0&&p.push(M("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},o.control($.value))),Q.value===!0&&p.push(M("div",{class:N.value},Te(o.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&p.push(M("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),p.concat(Te(o.default))}function C(){let p,R;d.value===!0?y.value!==null?(p=[M("div",{role:"alert"},y.value)],R=`q--slot-error-${y.value}`):(p=Te(o.error),R="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(p=[M("div",t.hint)],R=`q--slot-hint-${t.hint}`):(p=Te(o.hint),R="q--slot-hint"));const j=t.counter===!0||o.counter!==void 0;if(t.hideBottomSpace===!0&&j===!1&&p===void 0)return;const s=M("div",{key:R,class:"q-field__messages col"},p);return M("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:me},[t.hideBottomSpace===!0?s:M(Xe,{name:"q-transition--field-message"},()=>s),j===!0?M("div",{class:"q-field__counter"},o.counter!==void 0?o.counter():e.computedCounter.value):null])}function k(p,R){return R===null?null:M("div",{key:p,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},R)}let I=!1;return qt(()=>{I=!0}),Vt(()=>{I===!0&&t.autofocus===!0&&u.focus()}),t.autofocus===!0&&nt(()=>{u.focus()}),ce(()=>{i!==null&&clearTimeout(i)}),Object.assign(u,{focus:O,blur:L}),function(){const R=e.getControl===void 0&&o.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...K.value}:K.value;return M(e.tag.value,{ref:e.rootRef,class:[D.value,c.class],style:c.style,...R},[o.before!==void 0?M("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:me},o.before()):null,M("div",{class:"q-field__inner relative-position col self-stretch"},[M("div",{ref:e.controlRef,class:X.value,tabindex:-1,...e.controlEvents},P()),q.value===!0?C():null]),o.after!==void 0?M("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:me},o.after()):null])}}const ul={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},Je={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},Ol=Object.keys(Je);Ol.forEach(e=>{Je[e].regex=new RegExp(Je[e].pattern)});const Kn=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+Ol.join("")+"])|(.)","g"),rl=/[.*+?^${}()|[\]\\]/g,oe=String.fromCharCode(1),Nn={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function Wn(e,t,n,o){let c,u,r,i,g,x;const d=H(null),y=H(h());function F(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}G(()=>e.type+e.autogrow,Y),G(()=>e.mask,m=>{if(m!==void 0)D(y.value,!0);else{const S=O(y.value);Y(),e.modelValue!==S&&t("update:modelValue",S)}}),G(()=>e.fillMask+e.reverseFillMask,()=>{d.value===!0&&D(y.value,!0)}),G(()=>e.unmaskedValue,()=>{d.value===!0&&D(y.value)});function h(){if(Y(),d.value===!0){const m=K(O(e.modelValue));return e.fillMask!==!1?L(m):m}return e.modelValue}function q(m){if(m<c.length)return c.slice(-m);let S="",_=c;const v=_.indexOf(oe);if(v!==-1){for(let P=m-_.length;P>0;P--)S+=oe;_=_.slice(0,v)+S+_.slice(v)}return _}function Y(){if(d.value=e.mask!==void 0&&e.mask.length!==0&&F(),d.value===!1){i=void 0,c="",u="";return}const m=ul[e.mask]===void 0?e.mask:ul[e.mask],S=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",_=S.replace(rl,"\\$&"),v=[],P=[],f=[];let C=e.reverseFillMask===!0,k="",I="";m.replace(Kn,(s,a,T,W,Z)=>{if(W!==void 0){const w=Je[W];f.push(w),I=w.negate,C===!0&&(P.push("(?:"+I+"+)?("+w.pattern+"+)?(?:"+I+"+)?("+w.pattern+"+)?"),C=!1),P.push("(?:"+I+"+)?("+w.pattern+")?")}else if(T!==void 0)k="\\"+(T==="\\"?"":T),f.push(T),v.push("([^"+k+"]+)?"+k+"?");else{const w=a!==void 0?a:Z;k=w==="\\"?"\\\\\\\\":w.replace(rl,"\\\\$&"),f.push(w),v.push("([^"+k+"]+)?"+k+"?")}});const p=new RegExp("^"+v.join("")+"("+(k===""?".":"[^"+k+"]")+"+)?"+(k===""?"":"["+k+"]*")+"$"),R=P.length-1,j=P.map((s,a)=>a===0&&e.reverseFillMask===!0?new RegExp("^"+_+"*"+s):a===R?new RegExp("^"+s+"("+(I===""?".":I)+"+)?"+(e.reverseFillMask===!0?"$":_+"*")):new RegExp("^"+s));r=f,i=s=>{const a=p.exec(e.reverseFillMask===!0?s:s.slice(0,f.length+1));a!==null&&(s=a.slice(1).join(""));const T=[],W=j.length;for(let Z=0,w=s;Z<W;Z++){const E=j[Z].exec(w);if(E===null)break;w=w.slice(E.shift().length),T.push(...E)}return T.length!==0?T.join(""):s},c=f.map(s=>typeof s=="string"?s:oe).join(""),u=c.split(oe).join(S)}function D(m,S,_){const v=o.value,P=v.selectionEnd,f=v.value.length-P,C=O(m);S===!0&&Y();const k=K(C),I=e.fillMask!==!1?L(k):k,p=y.value!==I;v.value!==I&&(v.value=I),p===!0&&(y.value=I),document.activeElement===v&&ie(()=>{if(I===u){const j=e.reverseFillMask===!0?u.length:0;v.setSelectionRange(j,j,"forward");return}if(_==="insertFromPaste"&&e.reverseFillMask!==!0){const j=v.selectionEnd;let s=P-1;for(let a=g;a<=s&&a<j;a++)c[a]!==oe&&s++;Q.right(v,s);return}if(["deleteContentBackward","deleteContentForward"].indexOf(_)!==-1){const j=e.reverseFillMask===!0?P===0?I.length>k.length?1:0:Math.max(0,I.length-(I===u?0:Math.min(k.length,f)+1))+1:P;v.setSelectionRange(j,j,"forward");return}if(e.reverseFillMask===!0)if(p===!0){const j=Math.max(0,I.length-(I===u?0:Math.min(k.length,f+1)));j===1&&P===1?v.setSelectionRange(j,j,"forward"):Q.rightReverse(v,j)}else{const j=I.length-f;v.setSelectionRange(j,j,"backward")}else if(p===!0){const j=Math.max(0,c.indexOf(oe),Math.min(k.length,P)-1);Q.right(v,j)}else{const j=P-1;Q.right(v,j)}});const R=e.unmaskedValue===!0?O(I):I;String(e.modelValue)!==R&&(e.modelValue!==null||R!=="")&&n(R,!0)}function X(m,S,_){const v=K(O(m.value));S=Math.max(0,c.indexOf(oe),Math.min(v.length,S)),g=S,m.setSelectionRange(S,_,"forward")}const Q={left(m,S){const _=c.slice(S-1).indexOf(oe)===-1;let v=Math.max(0,S-1);for(;v>=0;v--)if(c[v]===oe){S=v,_===!0&&S++;break}if(v<0&&c[S]!==void 0&&c[S]!==oe)return Q.right(m,0);S>=0&&m.setSelectionRange(S,S,"backward")},right(m,S){const _=m.value.length;let v=Math.min(_,S+1);for(;v<=_;v++)if(c[v]===oe){S=v;break}else c[v-1]===oe&&(S=v);if(v>_&&c[S-1]!==void 0&&c[S-1]!==oe)return Q.left(m,_);m.setSelectionRange(S,S,"forward")},leftReverse(m,S){const _=q(m.value.length);let v=Math.max(0,S-1);for(;v>=0;v--)if(_[v-1]===oe){S=v;break}else if(_[v]===oe&&(S=v,v===0))break;if(v<0&&_[S]!==void 0&&_[S]!==oe)return Q.rightReverse(m,0);S>=0&&m.setSelectionRange(S,S,"backward")},rightReverse(m,S){const _=m.value.length,v=q(_),P=v.slice(0,S+1).indexOf(oe)===-1;let f=Math.min(_,S+1);for(;f<=_;f++)if(v[f-1]===oe){S=f,S>0&&P===!0&&S--;break}if(f>_&&v[S-1]!==void 0&&v[S-1]!==oe)return Q.leftReverse(m,_);m.setSelectionRange(S,S,"forward")}};function N(m){t("click",m),x=void 0}function $(m){if(t("keydown",m),xl(m)===!0||m.altKey===!0)return;const S=o.value,_=S.selectionStart,v=S.selectionEnd;if(m.shiftKey||(x=void 0),m.keyCode===37||m.keyCode===39){m.shiftKey&&x===void 0&&(x=S.selectionDirection==="forward"?_:v);const P=Q[(m.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(m.preventDefault(),P(S,x===_?v:_),m.shiftKey){const f=S.selectionStart;S.setSelectionRange(Math.min(x,f),Math.max(x,f),"forward")}}else m.keyCode===8&&e.reverseFillMask!==!0&&_===v?(Q.left(S,_),S.setSelectionRange(S.selectionStart,v,"backward")):m.keyCode===46&&e.reverseFillMask===!0&&_===v&&(Q.rightReverse(S,v),S.setSelectionRange(_,S.selectionEnd,"forward"))}function K(m){if(m==null||m==="")return"";if(e.reverseFillMask===!0)return B(m);const S=r;let _=0,v="";for(let P=0;P<S.length;P++){const f=m[_],C=S[P];if(typeof C=="string")v+=C,f===C&&_++;else if(f!==void 0&&C.regex.test(f))v+=C.transform!==void 0?C.transform(f):f,_++;else return v}return v}function B(m){const S=r,_=c.indexOf(oe);let v=m.length-1,P="";for(let f=S.length-1;f>=0&&v!==-1;f--){const C=S[f];let k=m[v];if(typeof C=="string")P=C+P,k===C&&v--;else if(k!==void 0&&C.regex.test(k))do P=(C.transform!==void 0?C.transform(k):k)+P,v--,k=m[v];while(_===f&&k!==void 0&&C.regex.test(k));else return P}return P}function O(m){return typeof m!="string"||i===void 0?typeof m=="number"?i(""+m):m:i(m)}function L(m){return u.length-m.length<=0?m:e.reverseFillMask===!0&&m.length!==0?u.slice(0,-m.length)+m:m+u.slice(m.length)}return{innerValue:y,hasMask:d,moveCursorForPaste:X,updateMaskValue:D,onMaskedKeydown:$,onMaskedClick:N}}function Qn(e,t){function n(){const o=e.modelValue;try{const c="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(o)===o&&("length"in o?Array.from(o):[o]).forEach(u=>{c.items.add(u)}),{files:c.files}}catch{return{files:void 0}}}return t===!0?b(()=>{if(e.type==="file")return n()}):b(n)}const Un=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,Zn=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,Yn=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,Xn=/[a-z0-9_ -]$/i;function Hl(e){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.qComposing!==!0)return;n.target.qComposing=!1,e(n)}else n.type==="compositionupdate"&&n.target.qComposing!==!0&&typeof n.data=="string"&&(lt.is.firefox===!0?Xn.test(n.data)===!1:Un.test(n.data)===!0||Zn.test(n.data)===!0||Yn.test(n.data)===!0)===!0&&(n.target.qComposing=!0)}}var Eo=be({name:"QInput",inheritAttrs:!1,props:{...at,...Nn,...zl,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...At,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:n}){const{proxy:o}=re(),{$q:c}=o,u={};let r=NaN,i,g,x=null,d;const y=H(null),F=Ml(e),{innerValue:h,hasMask:q,moveCursorForPaste:Y,updateMaskValue:D,onMaskedKeydown:X,onMaskedClick:Q}=Wn(e,t,k,y),N=Qn(e,!0),$=b(()=>Le(h.value)),K=Hl(f),B=Et({changeEvent:!0}),O=b(()=>e.type==="textarea"||e.autogrow===!0),L=b(()=>O.value===!0||["text","search","url","tel","password"].includes(e.type)),m=b(()=>{const a={...B.splitAttrs.listeners.value,onInput:f,onPaste:P,onChange:p,onBlur:R,onFocus:ge};return a.onCompositionstart=a.onCompositionupdate=a.onCompositionend=K,q.value===!0&&(a.onKeydown=X,a.onClick=Q),e.autogrow===!0&&(a.onAnimationend=C),a}),S=b(()=>{const a={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:F.value,...B.splitAttrs.attributes.value,id:B.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return O.value===!1&&(a.type=e.type),e.autogrow===!0&&(a.rows=1),a});G(()=>e.type,()=>{y.value&&(y.value.value=e.modelValue)}),G(()=>e.modelValue,a=>{if(q.value===!0){if(g===!0&&(g=!1,String(a)===r))return;D(a)}else h.value!==a&&(h.value=a,e.type==="number"&&u.hasOwnProperty("value")===!0&&(i===!0?i=!1:delete u.value));e.autogrow===!0&&ie(I)}),G(()=>e.autogrow,a=>{a===!0?ie(I):y.value!==null&&n.rows>0&&(y.value.style.height="auto")}),G(()=>e.dense,()=>{e.autogrow===!0&&ie(I)});function _(){ot(()=>{const a=document.activeElement;y.value!==null&&y.value!==a&&(a===null||a.id!==B.targetUid.value)&&y.value.focus({preventScroll:!0})})}function v(){y.value!==null&&y.value.select()}function P(a){if(q.value===!0&&e.reverseFillMask!==!0){const T=a.target;Y(T,T.selectionStart,T.selectionEnd)}t("paste",a)}function f(a){if(!a||!a.target)return;if(e.type==="file"){t("update:modelValue",a.target.files);return}const T=a.target.value;if(a.target.qComposing===!0){u.value=T;return}if(q.value===!0)D(T,!1,a.inputType);else if(k(T),L.value===!0&&a.target===document.activeElement){const{selectionStart:W,selectionEnd:Z}=a.target;W!==void 0&&Z!==void 0&&ie(()=>{a.target===document.activeElement&&T.indexOf(a.target.value)===0&&a.target.setSelectionRange(W,Z)})}e.autogrow===!0&&I()}function C(a){t("animationend",a),I()}function k(a,T){d=()=>{x=null,e.type!=="number"&&u.hasOwnProperty("value")===!0&&delete u.value,e.modelValue!==a&&r!==a&&(r=a,T===!0&&(g=!0),t("update:modelValue",a),ie(()=>{r===a&&(r=NaN)})),d=void 0},e.type==="number"&&(i=!0,u.value=a),e.debounce!==void 0?(x!==null&&clearTimeout(x),u.value=a,x=setTimeout(d,e.debounce)):d()}function I(){requestAnimationFrame(()=>{const a=y.value;if(a!==null){const T=a.parentNode.style,{scrollTop:W}=a,{overflowY:Z,maxHeight:w}=c.platform.is.firefox===!0?{}:window.getComputedStyle(a),E=Z!==void 0&&Z!=="scroll";E===!0&&(a.style.overflowY="hidden"),T.marginBottom=a.scrollHeight-1+"px",a.style.height="1px",a.style.height=a.scrollHeight+"px",E===!0&&(a.style.overflowY=parseInt(w,10)<a.scrollHeight?"auto":"hidden"),T.marginBottom="",a.scrollTop=W}})}function p(a){K(a),x!==null&&(clearTimeout(x),x=null),d!==void 0&&d(),t("change",a.target.value)}function R(a){a!==void 0&&ge(a),x!==null&&(clearTimeout(x),x=null),d!==void 0&&d(),i=!1,g=!1,delete u.value,e.type!=="file"&&setTimeout(()=>{y.value!==null&&(y.value.value=h.value!==void 0?h.value:"")})}function j(){return u.hasOwnProperty("value")===!0?u.value:h.value!==void 0?h.value:""}ce(()=>{R()}),nt(()=>{e.autogrow===!0&&I()}),Object.assign(B,{innerValue:h,fieldClass:b(()=>`q-${O.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:b(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:y,emitValue:k,hasValue:$,floatingLabel:b(()=>$.value===!0&&(e.type!=="number"||isNaN(h.value)===!1)||Le(e.displayValue)),getControl:()=>M(O.value===!0?"textarea":"input",{ref:y,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...S.value,...m.value,...e.type!=="file"?{value:j()}:N.value}),getShadowControl:()=>M("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(O.value===!0?"":" text-no-wrap")},[M("span",{class:"invisible"},j()),M("span",e.shadowText)])});const s=_t(B);return Object.assign(o,{focus:_,select:v,getNativeElement:()=>y.value}),kt(o,"nativeEl",()=>y.value),s}}),Gn=be({name:"QField",inheritAttrs:!1,props:{...at,tag:{type:String,default:"label"}},emits:At,setup(){return _t(Et({tagProp:!0}))}});const Jn={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},eo={...Jn,contextMenu:Boolean};function to({showing:e,avoidEmit:t,configureAnchorEl:n}){const{props:o,proxy:c,emit:u}=re(),r=H(null);let i=null;function g(h){return r.value===null?!1:h===void 0||h.touches===void 0||h.touches.length<=1}const x={};n===void 0&&(Object.assign(x,{hide(h){c.hide(h)},toggle(h){c.toggle(h),h.qAnchorHandled=!0},toggleKey(h){zt(h,13)===!0&&x.toggle(h)},contextClick(h){c.hide(h),me(h),ie(()=>{c.show(h),h.qAnchorHandled=!0})},prevent:me,mobileTouch(h){if(x.mobileCleanup(h),g(h)!==!0)return;c.hide(h),r.value.classList.add("non-selectable");const q=h.target;Qt(x,"anchor",[[q,"touchmove","mobileCleanup","passive"],[q,"touchend","mobileCleanup","passive"],[q,"touchcancel","mobileCleanup","passive"],[r.value,"contextmenu","prevent","notPassive"]]),i=setTimeout(()=>{i=null,c.show(h),h.qAnchorHandled=!0},300)},mobileCleanup(h){r.value.classList.remove("non-selectable"),i!==null&&(clearTimeout(i),i=null),e.value===!0&&h!==void 0&&Vn()}}),n=function(h=o.contextMenu){if(o.noParentEvent===!0||r.value===null)return;let q;h===!0?c.$q.platform.is.mobile===!0?q=[[r.value,"touchstart","mobileTouch","passive"]]:q=[[r.value,"mousedown","hide","passive"],[r.value,"contextmenu","contextClick","notPassive"]]:q=[[r.value,"click","toggle","passive"],[r.value,"keyup","toggleKey","passive"]],Qt(x,"anchor",q)});function d(){cn(x,"anchor")}function y(h){for(r.value=h;r.value.classList.contains("q-anchor--skip");)r.value=r.value.parentNode;n()}function F(){if(o.target===!1||o.target===""||c.$el.parentNode===null)r.value=null;else if(o.target===!0)y(c.$el.parentNode);else{let h=o.target;if(typeof o.target=="string")try{h=document.querySelector(o.target)}catch{h=void 0}h!=null?(r.value=h.$el||h,n()):(r.value=null,console.error(`Anchor: target "${o.target}" not found`))}}return G(()=>o.contextMenu,h=>{r.value!==null&&(d(),n(h))}),G(()=>o.target,()=>{r.value!==null&&d(),F()}),G(()=>o.noParentEvent,h=>{r.value!==null&&(h===!0?d():n())}),nt(()=>{F(),t!==!0&&o.modelValue===!0&&r.value===null&&u("update:modelValue",!1)}),ce(()=>{i!==null&&clearTimeout(i),d()}),{anchorEl:r,canShow:g,anchorEvents:x}}function lo(e,t){const n=H(null);let o;function c(i,g){const x=`${g!==void 0?"add":"remove"}EventListener`,d=g!==void 0?g:o;i!==window&&i[x]("scroll",d,St.passive),window[x]("scroll",d,St.passive),o=g}function u(){n.value!==null&&(c(n.value),n.value=null)}const r=G(()=>e.noParentEvent,()=>{n.value!==null&&(u(),t())});return ce(r),{localScrollTarget:n,unconfigureScrollTarget:u,changeScrollEvent:c}}const{notPassiveCapture:et}=St,ke=[];function tt(e){const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let n=De.length-1;for(;n>=0;){const o=De[n].$;if(o.type.name==="QTooltip"){n--;continue}if(o.type.name!=="QDialog")break;if(o.props.seamless!==!0)return;n--}for(let o=ke.length-1;o>=0;o--){const c=ke[o];if((c.anchorEl.value===null||c.anchorEl.value.contains(t)===!1)&&(t===document.body||c.innerRef.value!==null&&c.innerRef.value.contains(t)===!1))e.qClickOutside=!0,c.onClickOutside(e);else return}}function no(e){ke.push(e),ke.length===1&&(document.addEventListener("mousedown",tt,et),document.addEventListener("touchstart",tt,et))}function sl(e){const t=ke.findIndex(n=>n===e);t!==-1&&(ke.splice(t,1),ke.length===0&&(document.removeEventListener("mousedown",tt,et),document.removeEventListener("touchstart",tt,et)))}let cl,dl;function fl(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function oo(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const xt={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{xt[`${e}#ltr`]=e,xt[`${e}#rtl`]=e});function vl(e,t){const n=e.split(" ");return{vertical:n[0],horizontal:xt[`${n[1]}#${t===!0?"rtl":"ltr"}`]}}function ao(e,t){let{top:n,left:o,right:c,bottom:u,width:r,height:i}=e.getBoundingClientRect();return t!==void 0&&(n-=t[1],o-=t[0],u+=t[1],c+=t[0],r+=t[0],i+=t[1]),{top:n,bottom:u,height:i,left:o,right:c,width:r,middle:o+(c-o)/2,center:n+(u-n)/2}}function io(e,t,n){let{top:o,left:c}=e.getBoundingClientRect();return o+=t.top,c+=t.left,n!==void 0&&(o+=n[1],c+=n[0]),{top:o,bottom:o+1,height:1,left:c,right:c+1,width:1,middle:c,center:o}}function uo(e,t){return{top:0,center:t/2,bottom:t,left:0,middle:e/2,right:e}}function ml(e,t,n,o){return{top:e[n.vertical]-t[o.vertical],left:e[n.horizontal]-t[o.horizontal]}}function Il(e,t=0){if(e.targetEl===null||e.anchorEl===null||t>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{Il(e,t+1)},10);return}const{targetEl:n,offset:o,anchorEl:c,anchorOrigin:u,selfOrigin:r,absoluteOffset:i,fit:g,cover:x,maxHeight:d,maxWidth:y}=e;if(lt.is.ios===!0&&window.visualViewport!==void 0){const B=document.body.style,{offsetLeft:O,offsetTop:L}=window.visualViewport;O!==cl&&(B.setProperty("--q-pe-left",O+"px"),cl=O),L!==dl&&(B.setProperty("--q-pe-top",L+"px"),dl=L)}const{scrollLeft:F,scrollTop:h}=n,q=i===void 0?ao(c,x===!0?[0,0]:o):io(c,i,o);Object.assign(n.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:y,maxHeight:d,visibility:"visible"});const{offsetWidth:Y,offsetHeight:D}=n,{elWidth:X,elHeight:Q}=g===!0||x===!0?{elWidth:Math.max(q.width,Y),elHeight:x===!0?Math.max(q.height,D):D}:{elWidth:Y,elHeight:D};let N={maxWidth:y,maxHeight:d};(g===!0||x===!0)&&(N.minWidth=q.width+"px",x===!0&&(N.minHeight=q.height+"px")),Object.assign(n.style,N);const $=uo(X,Q);let K=ml(q,$,u,r);if(i===void 0||o===void 0)mt(K,q,$,u,r);else{const{top:B,left:O}=K;mt(K,q,$,u,r);let L=!1;if(K.top!==B){L=!0;const m=2*o[1];q.center=q.top-=m,q.bottom-=m+2}if(K.left!==O){L=!0;const m=2*o[0];q.middle=q.left-=m,q.right-=m+2}L===!0&&(K=ml(q,$,u,r),mt(K,q,$,u,r))}N={top:K.top+"px",left:K.left+"px"},K.maxHeight!==void 0&&(N.maxHeight=K.maxHeight+"px",q.height>K.maxHeight&&(N.minHeight=N.maxHeight)),K.maxWidth!==void 0&&(N.maxWidth=K.maxWidth+"px",q.width>K.maxWidth&&(N.minWidth=N.maxWidth)),Object.assign(n.style,N),n.scrollTop!==h&&(n.scrollTop=h),n.scrollLeft!==F&&(n.scrollLeft=F)}function mt(e,t,n,o,c){const u=n.bottom,r=n.right,i=gn(),g=window.innerHeight-i,x=document.body.clientWidth;if(e.top<0||e.top+u>g)if(c.vertical==="center")e.top=t[o.vertical]>g/2?Math.max(0,g-u):0,e.maxHeight=Math.min(u,g);else if(t[o.vertical]>g/2){const d=Math.min(g,o.vertical==="center"?t.center:o.vertical===c.vertical?t.bottom:t.top);e.maxHeight=Math.min(u,d),e.top=Math.max(0,d-u)}else e.top=Math.max(0,o.vertical==="center"?t.center:o.vertical===c.vertical?t.top:t.bottom),e.maxHeight=Math.min(u,g-e.top);if(e.left<0||e.left+r>x)if(e.maxWidth=Math.min(r,x),c.horizontal==="middle")e.left=t[o.horizontal]>x/2?Math.max(0,x-r):0;else if(t[o.horizontal]>x/2){const d=Math.min(x,o.horizontal==="middle"?t.middle:o.horizontal===c.horizontal?t.right:t.left);e.maxWidth=Math.min(r,d),e.left=Math.max(0,d-e.maxWidth)}else e.left=Math.max(0,o.horizontal==="middle"?t.middle:o.horizontal===c.horizontal?t.left:t.right),e.maxWidth=Math.min(r,x-e.left)}var ro=be({name:"QMenu",inheritAttrs:!1,props:{...eo,...pl,...pt,...Al,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:fl},self:{type:String,validator:fl},offset:{type:Array,validator:oo},scrollTarget:bn,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Cl,"click","escapeKey"],setup(e,{slots:t,emit:n,attrs:o}){let c=null,u,r,i;const g=re(),{proxy:x}=g,{$q:d}=x,y=H(null),F=H(!1),h=b(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),q=Ct(e,d),{registerTick:Y,removeTick:D}=ql(),{registerTimeout:X}=Vl(),{transitionProps:Q,transitionStyle:N}=El(e),{localScrollTarget:$,changeScrollEvent:K,unconfigureScrollTarget:B}=lo(e,T),{anchorEl:O,canShow:L}=to({showing:F}),{hide:m}=kl({showing:F,canShow:L,handleShow:j,handleHide:s,hideOnRouteChange:h,processOnMount:!0}),{showPortal:S,hidePortal:_,renderPortal:v}=_l(g,y,J,"menu"),P={anchorEl:O,innerRef:y,onClickOutside(z){if(e.persistent!==!0&&F.value===!0)return m(z),(z.type==="touchstart"||z.target.classList.contains("q-dialog__backdrop"))&&he(z),!0}},f=b(()=>vl(e.anchor||(e.cover===!0?"center middle":"bottom start"),d.lang.rtl)),C=b(()=>e.cover===!0?f.value:vl(e.self||"top start",d.lang.rtl)),k=b(()=>(e.square===!0?" q-menu--square":"")+(q.value===!0?" q-menu--dark q-dark":"")),I=b(()=>e.autoClose===!0?{onClick:W}:{}),p=b(()=>F.value===!0&&e.persistent!==!0);G(p,z=>{z===!0?(Fl(w),no(P)):(Ge(w),sl(P))});function R(){ot(()=>{let z=y.value;z&&z.contains(document.activeElement)!==!0&&(z=z.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||z.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||z.querySelector("[autofocus], [data-autofocus]")||z,z.focus({preventScroll:!0}))})}function j(z){if(c=e.noRefocus===!1?document.activeElement:null,Rl(Z),S(),T(),u=void 0,z!==void 0&&(e.touchPosition||e.contextMenu)){const le=dn(z);if(le.left!==void 0){const{top:de,left:ze}=O.value.getBoundingClientRect();u={left:le.left-ze,top:le.top-de}}}r===void 0&&(r=G(()=>d.screen.width+"|"+d.screen.height+"|"+e.self+"|"+e.anchor+"|"+d.lang.rtl,E)),e.noFocus!==!0&&document.activeElement.blur(),Y(()=>{E(),e.noFocus!==!0&&R()}),X(()=>{d.platform.is.ios===!0&&(i=e.autoClose,y.value.click()),E(),S(!0),n("show",z)},e.transitionDuration)}function s(z){D(),_(),a(!0),c!==null&&(z===void 0||z.qClickOutside!==!0)&&(((z&&z.type.indexOf("key")===0?c.closest('[tabindex]:not([tabindex^="-"])'):void 0)||c).focus(),c=null),X(()=>{_(!0),n("hide",z)},e.transitionDuration)}function a(z){u=void 0,r!==void 0&&(r(),r=void 0),(z===!0||F.value===!0)&&(wt(Z),B(),sl(P),Ge(w)),z!==!0&&(c=null)}function T(){(O.value!==null||e.scrollTarget!==void 0)&&($.value=Sn(O.value,e.scrollTarget),K($.value,E))}function W(z){i!==!0?(An(x,z),n("click",z)):i=!1}function Z(z){p.value===!0&&e.noFocus!==!0&&Sl(y.value,z.target)!==!0&&R()}function w(z){n("escapeKey"),m(z)}function E(){Il({targetEl:y.value,offset:e.offset,anchorEl:O.value,anchorOrigin:f.value,selfOrigin:C.value,absoluteOffset:u,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function J(){return M(Xe,Q.value,()=>F.value===!0?M("div",{role:"menu",...o,ref:y,tabindex:-1,class:["q-menu q-position-engine scroll"+k.value,o.class],style:[o.style,N.value],...I.value},Te(t.default)):null)}return ce(a),Object.assign(x,{focus:R,updatePosition:E}),v}});const se=1e3,so=["start","center","end","start-force","center-force","end-force"],Pl=Array.prototype.filter,co=window.getComputedStyle(document.body).overflowAnchor===void 0?fn:function(e,t){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const n=e.children||[];Pl.call(n,c=>c.dataset&&c.dataset.qVsAnchor!==void 0).forEach(c=>{delete c.dataset.qVsAnchor});const o=n[t];o&&o.dataset&&(o.dataset.qVsAnchor="")}))};function Fe(e,t){return e+t}function ht(e,t,n,o,c,u,r,i){const g=e===window?document.scrollingElement||document.documentElement:e,x=c===!0?"offsetWidth":"offsetHeight",d={scrollStart:0,scrollViewSize:-r-i,scrollMaxSize:0,offsetStart:-r,offsetEnd:-i};if(c===!0?(e===window?(d.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,d.scrollViewSize+=document.documentElement.clientWidth):(d.scrollStart=g.scrollLeft,d.scrollViewSize+=g.clientWidth),d.scrollMaxSize=g.scrollWidth,u===!0&&(d.scrollStart=(yt===!0?d.scrollMaxSize-d.scrollViewSize:0)-d.scrollStart)):(e===window?(d.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,d.scrollViewSize+=document.documentElement.clientHeight):(d.scrollStart=g.scrollTop,d.scrollViewSize+=g.clientHeight),d.scrollMaxSize=g.scrollHeight),n!==null)for(let y=n.previousElementSibling;y!==null;y=y.previousElementSibling)y.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetStart+=y[x]);if(o!==null)for(let y=o.nextElementSibling;y!==null;y=y.nextElementSibling)y.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetEnd+=y[x]);if(t!==e){const y=g.getBoundingClientRect(),F=t.getBoundingClientRect();c===!0?(d.offsetStart+=F.left-y.left,d.offsetEnd-=F.width):(d.offsetStart+=F.top-y.top,d.offsetEnd-=F.height),e!==window&&(d.offsetStart+=d.scrollStart),d.offsetEnd+=d.scrollMaxSize-d.offsetStart}return d}function hl(e,t,n,o){t==="end"&&(t=(e===window?document.body:e)[n===!0?"scrollWidth":"scrollHeight"]),e===window?n===!0?(o===!0&&(t=(yt===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):n===!0?(o===!0&&(t=(yt===!0?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function $e(e,t,n,o){if(n>=o)return 0;const c=t.length,u=Math.floor(n/se),r=Math.floor((o-1)/se)+1;let i=e.slice(u,r).reduce(Fe,0);return n%se!==0&&(i-=t.slice(u*se,n).reduce(Fe,0)),o%se!==0&&o!==c&&(i-=t.slice(o,r*se).reduce(Fe,0)),i}const fo={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},gl={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...fo};function vo({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:n,virtualScrollItemSizeComputed:o}){const c=re(),{props:u,emit:r,proxy:i}=c,{$q:g}=i;let x,d,y,F=[],h;const q=H(0),Y=H(0),D=H({}),X=H(null),Q=H(null),N=H(null),$=H({from:0,to:0}),K=b(()=>u.tableColspan!==void 0?u.tableColspan:100);o===void 0&&(o=b(()=>u.virtualScrollItemSize));const B=b(()=>o.value+";"+u.virtualScrollHorizontal),O=b(()=>B.value+";"+u.virtualScrollSliceRatioBefore+";"+u.virtualScrollSliceRatioAfter);G(O,()=>{k()}),G(B,L);function L(){C(d,!0)}function m(s){C(s===void 0?d:s)}function S(s,a){const T=t();if(T==null||T.nodeType===8)return;const W=ht(T,n(),X.value,Q.value,u.virtualScrollHorizontal,g.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd);y!==W.scrollViewSize&&k(W.scrollViewSize),v(T,W,Math.min(e.value-1,Math.max(0,parseInt(s,10)||0)),0,so.indexOf(a)!==-1?a:d!==-1&&s>d?"end":"start")}function _(){const s=t();if(s==null||s.nodeType===8)return;const a=ht(s,n(),X.value,Q.value,u.virtualScrollHorizontal,g.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd),T=e.value-1,W=a.scrollMaxSize-a.offsetStart-a.offsetEnd-Y.value;if(x===a.scrollStart)return;if(a.scrollMaxSize<=0){v(s,a,0,0);return}y!==a.scrollViewSize&&k(a.scrollViewSize),P($.value.from);const Z=Math.floor(a.scrollMaxSize-Math.max(a.scrollViewSize,a.offsetEnd)-Math.min(h[T],a.scrollViewSize/2));if(Z>0&&Math.ceil(a.scrollStart)>=Z){v(s,a,T,a.scrollMaxSize-a.offsetEnd-F.reduce(Fe,0));return}let w=0,E=a.scrollStart-a.offsetStart,J=E;if(E<=W&&E+a.scrollViewSize>=q.value)E-=q.value,w=$.value.from,J=E;else for(let z=0;E>=F[z]&&w<T;z++)E-=F[z],w+=se;for(;E>0&&w<T;)E-=h[w],E>-a.scrollViewSize?(w++,J=E):J=h[w]+E;v(s,a,w,J)}function v(s,a,T,W,Z){const w=typeof Z=="string"&&Z.indexOf("-force")!==-1,E=w===!0?Z.replace("-force",""):Z,J=E!==void 0?E:"start";let z=Math.max(0,T-D.value[J]),le=z+D.value.total;le>e.value&&(le=e.value,z=Math.max(0,le-D.value.total)),x=a.scrollStart;const de=z!==$.value.from||le!==$.value.to;if(de===!1&&E===void 0){p(T);return}const{activeElement:ze}=document,fe=N.value;de===!0&&fe!==null&&fe!==ze&&fe.contains(ze)===!0&&(fe.addEventListener("focusout",f),setTimeout(()=>{fe!==null&&fe.removeEventListener("focusout",f)})),co(fe,T-z);const je=E!==void 0?h.slice(z,T).reduce(Fe,0):0;if(de===!0){const Se=le>=$.value.from&&z<=$.value.to?$.value.to:le;$.value={from:z,to:Se},q.value=$e(F,h,0,z),Y.value=$e(F,h,le,e.value),requestAnimationFrame(()=>{$.value.to!==le&&x===a.scrollStart&&($.value={from:$.value.from,to:le},Y.value=$e(F,h,le,e.value))})}requestAnimationFrame(()=>{if(x!==a.scrollStart)return;de===!0&&P(z);const Se=h.slice(z,T).reduce(Fe,0),ye=Se+a.offsetStart+q.value,Ke=ye+h[T];let Re=ye+W;if(E!==void 0){const it=Se-je,Oe=a.scrollStart+it;Re=w!==!0&&Oe<ye&&Ke<Oe+a.scrollViewSize?Oe:E==="end"?Ke-a.scrollViewSize:ye-(E==="start"?0:Math.round((a.scrollViewSize-h[T])/2))}x=Re,hl(s,Re,u.virtualScrollHorizontal,g.lang.rtl),p(T)})}function P(s){const a=N.value;if(a){const T=Pl.call(a.children,z=>z.classList&&z.classList.contains("q-virtual-scroll--skip")===!1),W=T.length,Z=u.virtualScrollHorizontal===!0?z=>z.getBoundingClientRect().width:z=>z.offsetHeight;let w=s,E,J;for(let z=0;z<W;){for(E=Z(T[z]),z++;z<W&&T[z].classList.contains("q-virtual-scroll--with-prev")===!0;)E+=Z(T[z]),z++;J=E-h[w],J!==0&&(h[w]+=J,F[Math.floor(w/se)]+=J),w++}}}function f(){N.value!==null&&N.value!==void 0&&N.value.focus()}function C(s,a){const T=1*o.value;(a===!0||Array.isArray(h)===!1)&&(h=[]);const W=h.length;h.length=e.value;for(let w=e.value-1;w>=W;w--)h[w]=T;const Z=Math.floor((e.value-1)/se);F=[];for(let w=0;w<=Z;w++){let E=0;const J=Math.min((w+1)*se,e.value);for(let z=w*se;z<J;z++)E+=h[z];F.push(E)}d=-1,x=void 0,q.value=$e(F,h,0,$.value.from),Y.value=$e(F,h,$.value.to,e.value),s>=0?(P($.value.from),ie(()=>{S(s)})):R()}function k(s){if(s===void 0&&typeof window!="undefined"){const E=t();E!=null&&E.nodeType!==8&&(s=ht(E,n(),X.value,Q.value,u.virtualScrollHorizontal,g.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd).scrollViewSize)}y=s;const a=parseFloat(u.virtualScrollSliceRatioBefore)||0,T=parseFloat(u.virtualScrollSliceRatioAfter)||0,W=1+a+T,Z=s===void 0||s<=0?1:Math.ceil(s/o.value),w=Math.max(1,Z,Math.ceil((u.virtualScrollSliceSize>0?u.virtualScrollSliceSize:10)/W));D.value={total:Math.ceil(w*W),start:Math.ceil(w*a),center:Math.ceil(w*(.5+a)),end:Math.ceil(w*(1+a)),view:Z}}function I(s,a){const T=u.virtualScrollHorizontal===!0?"width":"height",W={["--q-virtual-scroll-item-"+T]:o.value+"px"};return[s==="tbody"?M(s,{class:"q-virtual-scroll__padding",key:"before",ref:X},[M("tr",[M("td",{style:{[T]:`${q.value}px`,...W},colspan:K.value})])]):M(s,{class:"q-virtual-scroll__padding",key:"before",ref:X,style:{[T]:`${q.value}px`,...W}}),M(s,{class:"q-virtual-scroll__content",key:"content",ref:N,tabindex:-1},a.flat()),s==="tbody"?M(s,{class:"q-virtual-scroll__padding",key:"after",ref:Q},[M("tr",[M("td",{style:{[T]:`${Y.value}px`,...W},colspan:K.value})])]):M(s,{class:"q-virtual-scroll__padding",key:"after",ref:Q,style:{[T]:`${Y.value}px`,...W}})]}function p(s){d!==s&&(u.onVirtualScroll!==void 0&&r("virtualScroll",{index:s,from:$.value.from,to:$.value.to-1,direction:s<d?"decrease":"increase",ref:i}),d=s)}k();const R=Mt(_,g.platform.is.ios===!0?120:35);vn(()=>{k()});let j=!1;return qt(()=>{j=!0}),Vt(()=>{if(j!==!0)return;const s=t();x!==void 0&&s!==void 0&&s!==null&&s.nodeType!==8?hl(s,x,u.virtualScrollHorizontal,g.lang.rtl):S(d)}),ce(()=>{R.cancel()}),Object.assign(i,{scrollTo:S,reset:L,refresh:m}),{virtualScrollSliceRange:$,virtualScrollSliceSizeComputed:D,setVirtualScrollSize:k,onVirtualScrollEvt:R,localResetVirtualScroll:C,padVirtualScroll:I,scrollTo:S,reset:L,refresh:m}}const bl=e=>["add","add-unique","toggle"].includes(e),mo=".*+?^${}()|[]\\",ho=Object.keys(at);function gt(e,t){if(typeof e=="function")return e;const n=e!==void 0?e:t;return o=>o!==null&&typeof o=="object"&&n in o?o[n]:o}var _o=be({name:"QSelect",inheritAttrs:!1,props:{...gl,...zl,...at,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:bl},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:gl.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...At,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:t,emit:n}){const{proxy:o}=re(),{$q:c}=o,u=H(!1),r=H(!1),i=H(-1),g=H(""),x=H(!1),d=H(!1);let y=null,F=null,h,q,Y,D=null,X,Q,N,$;const K=H(null),B=H(null),O=H(null),L=H(null),m=H(null),S=Ml(e),_=Hl(Dt),v=b(()=>e.options.length),P=b(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:f,virtualScrollSliceSizeComputed:C,localResetVirtualScroll:k,padVirtualScroll:I,onVirtualScrollEvt:p,scrollTo:R,setVirtualScrollSize:j}=vo({virtualScrollLength:v,getVirtualScrollTarget:jl,getVirtualScrollEl:Pt,virtualScrollItemSizeComputed:P}),s=Et(),a=b(()=>{const l=e.mapOptions===!0&&e.multiple!==!0,V=e.modelValue!==void 0&&(e.modelValue!==null||l===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0){const A=e.mapOptions===!0&&h!==void 0?h:[],U=V.map(te=>Ll(te,A));return e.modelValue===null&&l===!0?U.filter(te=>te!==null):U}return V}),T=b(()=>{const l={};return ho.forEach(V=>{const A=e[V];A!==void 0&&(l[V]=A)}),l}),W=b(()=>e.optionsDark===null?s.isDark.value:e.optionsDark),Z=b(()=>Le(a.value)),w=b(()=>{let l="q-field__input q-placeholder col";return e.hideSelected===!0||a.value.length===0?[l,e.inputClass]:(l+=" q-field__input--padding",e.inputClass===void 0?l:[l,e.inputClass])}),E=b(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),J=b(()=>v.value===0),z=b(()=>a.value.map(l=>ue.value(l)).join(", ")),le=b(()=>e.displayValue!==void 0?e.displayValue:z.value),de=b(()=>e.optionsHtml===!0?()=>!0:l=>l!=null&&l.html===!0),ze=b(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||a.value.some(de.value))),fe=b(()=>s.focused.value===!0?e.tabindex:-1),je=b(()=>{const l={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":u.value===!0?"true":"false","aria-controls":`${s.targetUid.value}_lb`};return i.value>=0&&(l["aria-activedescendant"]=`${s.targetUid.value}_${i.value}`),l}),Se=b(()=>({id:`${s.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),ye=b(()=>a.value.map((l,V)=>({index:V,opt:l,html:de.value(l),selected:!0,removeAtIndex:Dl,toggleOption:we,tabindex:fe.value}))),Ke=b(()=>{if(v.value===0)return[];const{from:l,to:V}=f.value;return e.options.slice(l,V).map((A,U)=>{const te=Me.value(A)===!0,ee=rt(A)===!0,ae=l+U,ne={clickable:!0,active:ee,activeClass:Oe.value,manualFocus:!0,focused:!1,disable:te,tabindex:-1,dense:e.optionsDense,dark:W.value,role:"option","aria-selected":ee===!0?"true":"false",id:`${s.targetUid.value}_${ae}`,onClick:()=>{we(A)}};return te!==!0&&(i.value===ae&&(ne.focused=!0),c.platform.is.desktop===!0&&(ne.onMousemove=()=>{u.value===!0&&qe(ae)})),{index:ae,opt:A,html:de.value(A),label:ue.value(A),selected:ne.active,focused:ne.focused,toggleOption:we,setOptionIndex:qe,itemProps:ne}})}),Re=b(()=>e.dropdownIcon!==void 0?e.dropdownIcon:c.iconSet.arrow.dropdown),it=b(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Oe=b(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),ve=b(()=>gt(e.optionValue,"value")),ue=b(()=>gt(e.optionLabel,"label")),Me=b(()=>gt(e.optionDisable,"disable")),Ne=b(()=>a.value.map(ve.value)),$l=b(()=>{const l={onInput:Dt,onChange:_,onKeydown:It,onKeyup:Ot,onKeypress:Ht,onFocus:Bt,onClick(V){q===!0&&ge(V)}};return l.onCompositionstart=l.onCompositionupdate=l.onCompositionend=_,l});G(a,l=>{h=l,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&s.innerLoading.value!==!0&&(r.value!==!0&&u.value!==!0||Z.value!==!0)&&(Y!==!0&&_e(),(r.value===!0||u.value===!0)&&Ve(""))},{immediate:!0}),G(()=>e.fillInput,_e),G(u,st),G(v,tn);function Tt(l){return e.emitValue===!0?ve.value(l):l}function ut(l){if(l!==-1&&l<a.value.length)if(e.multiple===!0){const V=e.modelValue.slice();n("remove",{index:l,value:V.splice(l,1)[0]}),n("update:modelValue",V)}else n("update:modelValue",null)}function Dl(l){ut(l),s.focus()}function Ft(l,V){const A=Tt(l);if(e.multiple!==!0){e.fillInput===!0&&He(ue.value(l),!0,!0),n("update:modelValue",A);return}if(a.value.length===0){n("add",{index:0,value:A}),n("update:modelValue",e.multiple===!0?[A]:A);return}if(V===!0&&rt(l)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const U=e.modelValue.slice();n("add",{index:U.length,value:A}),U.push(A),n("update:modelValue",U)}function we(l,V){if(s.editable.value!==!0||l===void 0||Me.value(l)===!0)return;const A=ve.value(l);if(e.multiple!==!0){V!==!0&&(He(e.fillInput===!0?ue.value(l):"",!0,!0),xe()),B.value!==null&&B.value.focus(),(a.value.length===0||Ie(ve.value(a.value[0]),A)!==!0)&&n("update:modelValue",e.emitValue===!0?A:l);return}if((q!==!0||x.value===!0)&&s.focus(),Bt(),a.value.length===0){const ee=e.emitValue===!0?A:l;n("add",{index:0,value:ee}),n("update:modelValue",e.multiple===!0?[ee]:ee);return}const U=e.modelValue.slice(),te=Ne.value.findIndex(ee=>Ie(ee,A));if(te!==-1)n("remove",{index:te,value:U.splice(te,1)[0]});else{if(e.maxValues!==void 0&&U.length>=e.maxValues)return;const ee=e.emitValue===!0?A:l;n("add",{index:U.length,value:ee}),U.push(ee)}n("update:modelValue",U)}function qe(l){if(c.platform.is.desktop!==!0)return;const V=l!==-1&&l<v.value?l:-1;i.value!==V&&(i.value=V)}function We(l=1,V){if(u.value===!0){let A=i.value;do A=Xt(A+l,-1,v.value-1);while(A!==-1&&A!==i.value&&Me.value(e.options[A])===!0);i.value!==A&&(qe(A),R(A),V!==!0&&e.useInput===!0&&e.fillInput===!0&&Qe(A>=0?ue.value(e.options[A]):X,!0))}}function Ll(l,V){const A=U=>Ie(ve.value(U),l);return e.options.find(A)||V.find(A)||l}function rt(l){const V=ve.value(l);return Ne.value.find(A=>Ie(A,V))!==void 0}function Bt(l){e.useInput===!0&&B.value!==null&&(l===void 0||B.value===l.target&&l.target.value===z.value)&&B.value.select()}function Rt(l){zt(l,27)===!0&&u.value===!0&&(ge(l),xe(),_e()),n("keyup",l)}function Ot(l){const{value:V}=l.target;if(l.keyCode!==void 0){Rt(l);return}if(l.target.value="",y!==null&&(clearTimeout(y),y=null),F!==null&&(clearTimeout(F),F=null),_e(),typeof V=="string"&&V.length!==0){const A=V.toLocaleLowerCase(),U=ee=>{const ae=e.options.find(ne=>ee.value(ne).toLocaleLowerCase()===A);return ae===void 0?!1:(a.value.indexOf(ae)===-1?we(ae):xe(),!0)},te=ee=>{U(ve)!==!0&&(U(ue)===!0||ee===!0||Ve(V,!0,()=>te(!0)))};te()}else s.clearValue(l)}function Ht(l){n("keypress",l)}function It(l){if(n("keydown",l),xl(l)===!0)return;const V=g.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),A=l.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(i.value!==-1||V===!0);if(l.keyCode===27){me(l);return}if(l.keyCode===9&&A===!1){Ae();return}if(l.target===void 0||l.target.id!==s.targetUid.value||s.editable.value!==!0)return;if(l.keyCode===40&&s.innerLoading.value!==!0&&u.value===!1){he(l),Ee();return}if(l.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&g.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?ut(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null);return}(l.keyCode===35||l.keyCode===36)&&(typeof g.value!="string"||g.value.length===0)&&(he(l),i.value=-1,We(l.keyCode===36?1:-1,e.multiple)),(l.keyCode===33||l.keyCode===34)&&C.value!==void 0&&(he(l),i.value=Math.max(-1,Math.min(v.value,i.value+(l.keyCode===33?-1:1)*C.value.view)),We(l.keyCode===33?1:-1,e.multiple)),(l.keyCode===38||l.keyCode===40)&&(he(l),We(l.keyCode===38?-1:1,e.multiple));const U=v.value;if((N===void 0||$<Date.now())&&(N=""),U>0&&e.useInput!==!0&&l.key!==void 0&&l.key.length===1&&l.altKey===!1&&l.ctrlKey===!1&&l.metaKey===!1&&(l.keyCode!==32||N.length!==0)){u.value!==!0&&Ee(l);const te=l.key.toLocaleLowerCase(),ee=N.length===1&&N[0]===te;$=Date.now()+1500,ee===!1&&(he(l),N+=te);const ae=new RegExp("^"+N.split("").map(ct=>mo.indexOf(ct)!==-1?"\\"+ct:ct).join(".*"),"i");let ne=i.value;if(ee===!0||ne<0||ae.test(ue.value(e.options[ne]))!==!0)do ne=Xt(ne+1,-1,U-1);while(ne!==i.value&&(Me.value(e.options[ne])===!0||ae.test(ue.value(e.options[ne]))!==!0));i.value!==ne&&ie(()=>{qe(ne),R(ne),ne>=0&&e.useInput===!0&&e.fillInput===!0&&Qe(ue.value(e.options[ne]),!0)});return}if(!(l.keyCode!==13&&(l.keyCode!==32||e.useInput===!0||N!=="")&&(l.keyCode!==9||A===!1))){if(l.keyCode!==9&&he(l),i.value!==-1&&i.value<U){we(e.options[i.value]);return}if(V===!0){const te=(ee,ae)=>{if(ae){if(bl(ae)!==!0)return}else ae=e.newValueMode;if(He("",e.multiple!==!0,!0),ee==null)return;(ae==="toggle"?we:Ft)(ee,ae==="add-unique"),e.multiple!==!0&&(B.value!==null&&B.value.focus(),xe())};if(e.onNewValue!==void 0?n("newValue",g.value,te):te(g.value),e.multiple!==!0)return}u.value===!0?Ae():s.innerLoading.value!==!0&&Ee()}}function Pt(){return q===!0?m.value:O.value!==null&&O.value.contentEl!==null?O.value.contentEl:void 0}function jl(){return Pt()}function Kl(){return e.hideSelected===!0?[]:t["selected-item"]!==void 0?ye.value.map(l=>t["selected-item"](l)).slice():t.selected!==void 0?[].concat(t.selected()):e.useChips===!0?ye.value.map((l,V)=>M(kn,{key:"option-"+V,removable:s.editable.value===!0&&Me.value(l.opt)!==!0,dense:!0,textColor:e.color,tabindex:fe.value,onRemove(){l.removeAtIndex(V)}},()=>M("span",{class:"ellipsis",[l.html===!0?"innerHTML":"textContent"]:ue.value(l.opt)}))):[M("span",{[ze.value===!0?"innerHTML":"textContent"]:le.value})]}function $t(){if(J.value===!0)return t["no-option"]!==void 0?t["no-option"]({inputValue:g.value}):void 0;const l=t.option!==void 0?t.option:A=>M(Mn,{key:A.index,...A.itemProps},()=>M(zn,()=>M(qn,()=>M("span",{[A.html===!0?"innerHTML":"textContent"]:A.label}))));let V=I("div",Ke.value.map(l));return t["before-options"]!==void 0&&(V=t["before-options"]().concat(V)),yl(t["after-options"],V)}function Nl(l,V){const A=V===!0?{...je.value,...s.splitAttrs.attributes.value}:void 0,U={ref:V===!0?B:void 0,key:"i_t",class:w.value,style:e.inputStyle,value:g.value!==void 0?g.value:"",type:"search",...A,id:V===!0?s.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":l===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...$l.value};return l!==!0&&q===!0&&(Array.isArray(U.class)===!0?U.class=[...U.class,"no-pointer-events"]:U.class+=" no-pointer-events"),M("input",U)}function Dt(l){y!==null&&(clearTimeout(y),y=null),F!==null&&(clearTimeout(F),F=null),!(l&&l.target&&l.target.qComposing===!0)&&(Qe(l.target.value||""),Y=!0,X=g.value,s.focused.value!==!0&&(q!==!0||x.value===!0)&&s.focus(),e.onFilter!==void 0&&(y=setTimeout(()=>{y=null,Ve(g.value)},e.inputDebounce)))}function Qe(l,V){g.value!==l&&(g.value=l,V===!0||e.inputDebounce===0||e.inputDebounce==="0"?n("inputValue",l):F=setTimeout(()=>{F=null,n("inputValue",l)},e.inputDebounce))}function He(l,V,A){Y=A!==!0,e.useInput===!0&&(Qe(l,!0),(V===!0||A!==!0)&&(X=l),V!==!0&&Ve(l))}function Ve(l,V,A){if(e.onFilter===void 0||V!==!0&&s.focused.value!==!0)return;s.innerLoading.value===!0?n("filterAbort"):(s.innerLoading.value=!0,d.value=!0),l!==""&&e.multiple!==!0&&a.value.length!==0&&Y!==!0&&l===ue.value(a.value[0])&&(l="");const U=setTimeout(()=>{u.value===!0&&(u.value=!1)},10);D!==null&&clearTimeout(D),D=U,n("filter",l,(te,ee)=>{(V===!0||s.focused.value===!0)&&D===U&&(clearTimeout(D),typeof te=="function"&&te(),d.value=!1,ie(()=>{s.innerLoading.value=!1,s.editable.value===!0&&(V===!0?u.value===!0&&xe():u.value===!0?st(!0):u.value=!0),typeof ee=="function"&&ie(()=>{ee(o)}),typeof A=="function"&&ie(()=>{A(o)})}))},()=>{s.focused.value===!0&&D===U&&(clearTimeout(D),s.innerLoading.value=!1,d.value=!1),u.value===!0&&(u.value=!1)})}function Wl(){return M(ro,{ref:O,class:E.value,style:e.popupContentStyle,modelValue:u.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&J.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:W.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:it.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Se.value,onScrollPassive:p,onBeforeShow:jt,onBeforeHide:Ql,onShow:Ul},$t)}function Ql(l){Kt(l),Ae()}function Ul(){j()}function Zl(l){ge(l),B.value!==null&&B.value.focus(),x.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Yl(l){ge(l),ie(()=>{x.value=!1})}function Xl(){const l=[M(Gn,{class:`col-auto ${s.fieldClass.value}`,...T.value,for:s.targetUid.value,dark:W.value,square:!0,loading:d.value,itemAligned:!1,filled:!0,stackLabel:g.value.length!==0,...s.splitAttrs.listeners.value,onFocus:Zl,onBlur:Yl},{...t,rawControl:()=>s.getControl(!0),before:void 0,after:void 0})];return u.value===!0&&l.push(M("div",{ref:m,class:E.value+" scroll",style:e.popupContentStyle,...Se.value,onClick:me,onScrollPassive:p},$t())),M(On,{ref:L,modelValue:r.value,position:e.useInput===!0?"top":void 0,transitionShow:Q,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:jt,onBeforeHide:Gl,onHide:Jl,onShow:en},()=>M("div",{class:"q-select__dialog"+(W.value===!0?" q-select__dialog--dark q-dark":"")+(x.value===!0?" q-select__dialog--focused":"")},l))}function Gl(l){Kt(l),L.value!==null&&L.value.__updateRefocusTarget(s.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),s.focused.value=!1}function Jl(l){xe(),s.focused.value===!1&&n("blur",l),_e()}function en(){const l=document.activeElement;(l===null||l.id!==s.targetUid.value)&&B.value!==null&&B.value!==l&&B.value.focus(),j()}function Ae(){r.value!==!0&&(i.value=-1,u.value===!0&&(u.value=!1),s.focused.value===!1&&(D!==null&&(clearTimeout(D),D=null),s.innerLoading.value===!0&&(n("filterAbort"),s.innerLoading.value=!1,d.value=!1)))}function Ee(l){s.editable.value===!0&&(q===!0?(s.onControlFocusin(l),r.value=!0,ie(()=>{s.focus()})):s.focus(),e.onFilter!==void 0?Ve(g.value):(J.value!==!0||t["no-option"]!==void 0)&&(u.value=!0))}function xe(){r.value=!1,Ae()}function _e(){e.useInput===!0&&He(e.multiple!==!0&&e.fillInput===!0&&a.value.length!==0&&ue.value(a.value[0])||"",!0,!0)}function st(l){let V=-1;if(l===!0){if(a.value.length!==0){const A=ve.value(a.value[0]);V=e.options.findIndex(U=>Ie(ve.value(U),A))}k(V)}qe(V)}function tn(l,V){u.value===!0&&s.innerLoading.value===!1&&(k(-1,!0),ie(()=>{u.value===!0&&s.innerLoading.value===!1&&(l>V?k():st(!0))}))}function Lt(){r.value===!1&&O.value!==null&&O.value.updatePosition()}function jt(l){l!==void 0&&ge(l),n("popupShow",l),s.hasPopupOpen=!0,s.onControlFocusin(l)}function Kt(l){l!==void 0&&ge(l),n("popupHide",l),s.hasPopupOpen=!1,s.onControlFocusout(l)}function Nt(){q=c.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?t["no-option"]!==void 0||e.onFilter!==void 0||J.value===!1:!0),Q=c.platform.is.ios===!0&&q===!0&&e.useInput===!0?"fade":e.transitionShow}return wl(Nt),mn(Lt),Nt(),ce(()=>{y!==null&&clearTimeout(y),F!==null&&clearTimeout(F)}),Object.assign(o,{showPopup:Ee,hidePopup:xe,removeAtIndex:ut,add:Ft,toggleOption:we,getOptionIndex:()=>i.value,setOptionIndex:qe,moveOptionSelection:We,filter:Ve,updateMenuPosition:Lt,updateInputValue:He,isOptionSelected:rt,getEmittingOptionValue:Tt,isOptionDisabled:(...l)=>Me.value.apply(null,l)===!0,getOptionValue:(...l)=>ve.value.apply(null,l),getOptionLabel:(...l)=>ue.value.apply(null,l)}),Object.assign(s,{innerValue:a,fieldClass:b(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:K,targetRef:B,hasValue:Z,showPopup:Ee,floatingLabel:b(()=>e.hideSelected!==!0&&Z.value===!0||typeof g.value=="number"||g.value.length!==0||Le(e.displayValue)),getControlChild:()=>{if(s.editable.value!==!1&&(r.value===!0||J.value!==!0||t["no-option"]!==void 0))return q===!0?Xl():Wl();s.hasPopupOpen===!0&&(s.hasPopupOpen=!1)},controlEvents:{onFocusin(l){s.onControlFocusin(l)},onFocusout(l){s.onControlFocusout(l,()=>{_e(),Ae()})},onClick(l){if(me(l),q!==!0&&u.value===!0){Ae(),B.value!==null&&B.value.focus();return}Ee(l)}},getControl:l=>{const V=Kl(),A=l===!0||r.value!==!0||q!==!0;if(e.useInput===!0)V.push(Nl(l,A));else if(s.editable.value===!0){const te=A===!0?je.value:void 0;V.push(M("input",{ref:A===!0?B:void 0,key:"d_t",class:"q-select__focus-target",id:A===!0?s.targetUid.value:void 0,value:le.value,readonly:!0,"data-autofocus":l===!0||e.autofocus===!0||void 0,...te,onKeydown:It,onKeyup:Rt,onKeypress:Ht})),A===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&V.push(M("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Ot}))}if(S.value!==void 0&&e.disable!==!0&&Ne.value.length!==0){const te=Ne.value.map(ee=>M("option",{value:ee,selected:!0}));V.push(M("select",{class:"hidden",name:S.value,multiple:e.multiple},te))}const U=e.useInput===!0||A!==!0?void 0:s.splitAttrs.attributes.value;return M("div",{class:"q-field__native row items-center",...U,...s.splitAttrs.listeners.value},V)},getInnerAppend:()=>e.loading!==!0&&d.value!==!0&&e.hideDropdownIcon!==!0?[M(bt,{class:"q-select__dropdown-icon"+(u.value===!0?" rotate-180":""),name:Re.value})]:null}),_t(s)}});export{On as Q,to as a,ro as b,Eo as c,Al as d,Jn as e,oo as f,El as g,lo as h,_l as i,no as j,In as k,_o as l,Ao as m,vl as p,sl as r,Il as s,eo as u,fl as v};
