import{au as o}from"./index.7d689aa6.js";const c=o("auth",{state:()=>({accessToken:localStorage.getItem("access-token")||"",refreshToken:localStorage.getItem("refresh-token")||"",username:localStorage.getItem("account-name")||"",authorities:localStorage.getItem("account-role")||""}),getters:{isAuthenticated:e=>!!e.accessToken,isAdmin:e=>!!e.accessToken&&e.authorities==="ROLE_ADMIN"},actions:{login(e){console.log("login with",e),localStorage.setItem("access-token",e.tokens.accessToken),localStorage.setItem("access-token-expiry",e.tokens.accessTokenExpiry),localStorage.setItem("refresh-token",e.tokens.refreshToken),localStorage.setItem("refresh-token-expiry",e.tokens.refreshTokenExpiry),this.accessToken=e.tokens.accessToken,this.refreshToken=e.tokens.refreshToken,localStorage.setItem("account-id",e.account.id),localStorage.setItem("account-email",e.account.email),localStorage.setItem("account-role",e.account.role),localStorage.setItem("account-name",e.account.name),localStorage.setItem("account-avatar",e.account.avatar),localStorage.setItem("account-registration",e.account.registration),localStorage.setItem("account-last-login",e.account.lastLogin),localStorage.setItem("account-settings",JSON.stringify(e.account.settings)),this.username=e.account.name,this.authorities=e.account.role},logout(){this.accessToken="",this.refreshToken="",localStorage.removeItem("access-token"),localStorage.removeItem("access-token-expiry"),localStorage.removeItem("refresh-token"),localStorage.removeItem("refresh-token-expiry"),this.username="",this.authorities="",localStorage.removeItem("account-id"),localStorage.removeItem("account-email"),localStorage.removeItem("account-role"),localStorage.removeItem("account-name"),localStorage.removeItem("account-avatar"),localStorage.removeItem("account-registration"),localStorage.removeItem("account-last-login"),localStorage.removeItem("account-settings")}}});export{c as u};
