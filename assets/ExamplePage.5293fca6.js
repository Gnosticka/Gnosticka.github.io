import{k as U,t as L,x as z,r as j,c as B,aw as X,n as A,h as S,l as Y,C as W,g as Z,d as G,Q as H,S as E,U as O,V as h,a0 as v,f,a2 as J,a3 as K,F as N,ap as k,a1 as q,Z as D,aq as I,$ as ee,ar as te,W as oe,Y as V}from"./index.07e5bfa0.js";import{T as ne,b as ae,Q as se,a as P}from"./QItem.2d401480.js";import{Q as ie,a as re,u as $,b as R}from"./useAmountColorClass.b2af1df3.js";import{Q as le}from"./QPage.53cc7524.js";import{u as de}from"./use-quasar.6667bf8a.js";function ce(){let d=Object.create(null);return{getCache:(e,s)=>d[e]===void 0?d[e]=typeof s=="function"?s():s:d[e],setCache(e,s){d[e]=s},hasCache(e){return Object.hasOwnProperty.call(d,e)},clearCache(e){e!==void 0?delete d[e]:d=Object.create(null)}}}const M=[["left","center","start","width"],["right","center","end","width"],["top","start","center","height"],["bottom","end","center","height"]];var ue=U({name:"QSlideItem",props:{...L,leftColor:String,rightColor:String,topColor:String,bottomColor:String,onSlide:Function},emits:["action","top","right","bottom","left"],setup(d,{slots:e,emit:s}){const{proxy:C}=Z(),{$q:x}=C,Q=z(d,x),{getCache:p}=ce(),w=j(null);let g=null,t={},b={},i={};const o=B(()=>x.lang.rtl===!0?{left:"right",right:"left"}:{left:"left",right:"right"}),r=B(()=>"q-slide-item q-item-type overflow-hidden"+(Q.value===!0?" q-slide-item--dark q-dark":""));function _(){w.value.style.transform="translate(0,0)"}function F(n,m,l){d.onSlide!==void 0&&s("slide",{side:n,ratio:m,isReset:l})}function T(n){const m=w.value;if(n.isFirst)t={dir:null,size:{left:0,right:0,top:0,bottom:0},scale:0},m.classList.add("no-transition"),M.forEach(a=>{if(e[a[0]]!==void 0){const y=i[a[0]];y.style.transform="scale(1)",t.size[a[0]]=y.getBoundingClientRect()[a[3]]}}),t.axis=n.direction==="up"||n.direction==="down"?"Y":"X";else if(n.isFinal){m.classList.remove("no-transition"),t.scale===1?(m.style.transform=`translate${t.axis}(${t.dir*100}%)`,g!==null&&clearTimeout(g),g=setTimeout(()=>{g=null,s(t.showing,{reset:_}),s("action",{side:t.showing,reset:_})},230)):(m.style.transform="translate(0,0)",F(t.showing,0,!0));return}else n.direction=t.axis==="X"?n.offset.x<0?"left":"right":n.offset.y<0?"up":"down";if(e.left===void 0&&n.direction===o.value.right||e.right===void 0&&n.direction===o.value.left||e.top===void 0&&n.direction==="down"||e.bottom===void 0&&n.direction==="up"){m.style.transform="translate(0,0)";return}let l,u,c;t.axis==="X"?(u=n.direction==="left"?-1:1,l=u===1?o.value.left:o.value.right,c=n.distance.x):(u=n.direction==="up"?-2:2,l=u===2?"top":"bottom",c=n.distance.y),!(t.dir!==null&&Math.abs(u)!==Math.abs(t.dir))&&(t.dir!==u&&(["left","right","top","bottom"].forEach(a=>{b[a]&&(b[a].style.visibility=l===a?"visible":"hidden")}),t.showing=l,t.dir=u),t.scale=Math.max(0,Math.min(1,(c-40)/t.size[l])),m.style.transform=`translate${t.axis}(${c*u/Math.abs(u)}px)`,i[l].style.transform=`scale(${t.scale})`,F(l,t.scale,!1))}return X(()=>{b={},i={}}),A(()=>{g!==null&&clearTimeout(g)}),Object.assign(C,{reset:_}),()=>{const n=[],m={left:e[o.value.right]!==void 0,right:e[o.value.left]!==void 0,up:e.bottom!==void 0,down:e.top!==void 0},l=Object.keys(m).filter(c=>m[c]===!0);M.forEach(c=>{const a=c[0];e[a]!==void 0&&n.push(S("div",{key:a,ref:y=>{b[a]=y},class:`q-slide-item__${a} absolute-full row no-wrap items-${c[1]} justify-${c[2]}`+(d[a+"Color"]!==void 0?` bg-${d[a+"Color"]}`:"")},[S("div",{ref:y=>{i[a]=y}},e[a]())]))});const u=S("div",{key:`${l.length===0?"only-":""} content`,ref:w,class:"q-slide-item__content"},Y(e.default));return l.length===0?n.push(u):n.push(W(u,p("dir#"+l.join(""),()=>{const c={prevent:!0,stop:!0,mouse:!0};return l.forEach(a=>{c[a]=!0}),[[ne,T,void 0,c]]}))),S("div",{class:r.value},n)}}});const me={class:"q-pa-md"},fe={class:"row q-mb-sm q-px-md q-py-sm"},he={class:"col"},pe={class:"col"},ge={class:"col col-auto"},we=G({__name:"ExamplePage",setup(d){const e=de(),s=j([{id:"1",name:"Selary",amount:4999.99},{id:"2",name:"Rent",amount:-999},{id:"3",name:"Phone",amount:-14.99},{id:"4",name:"Unknown",amount:0}]),C=B(()=>s.value.reduce((i,{amount:o})=>i+o,0)),x=j(null),Q={name:"",amount:null},p=H({...Q}),w=()=>{const i=Object.assign({},p,{id:te()});s.value.push(i),g(),x.value.focus()},g=()=>{Object.assign(p,Q)},t=({reset:i},o)=>{e.dialog({title:"Delete Entry",message:`
          Delete this entry?
          <div class="q-mt-md text-weight-bold ${$(o.amount)}">
            ${o.name} : ${R(o.amount)}
          </div>
        `,html:!0,ok:{label:"Delete",color:"negative",noCaps:!0},cancel:{label:"Cancel",noCaps:!0},persistent:!0}).onOk(()=>{b(o.id)}).onCancel(()=>{i()}).onDismiss(()=>{i()})},b=i=>{const o=s.value.findIndex(r=>r.id===i);s.value.splice(o,1),e.notify({message:"Entry deleted",position:"top"})};return(i,o)=>(E(),O(le,null,{default:h(()=>[v("div",me,[f(ae,{bordered:"",separator:""},{default:h(()=>[(E(!0),J(N,null,K(s.value,r=>(E(),O(ue,{key:r.id,onRight:_=>t(_,r),"left-color":"positive","right-color":"negative"},{right:h(()=>[f(oe,{name:"delete"})]),default:h(()=>[f(se,null,{default:h(()=>[f(P,{class:k(q($)(r.amount))},{default:h(()=>[V(D(r.name),1)]),_:2},1032,["class"]),f(P,{side:"",class:k(q($)(r.amount))},{default:h(()=>[V(D(q(R)(r.amount)),1)]),_:2},1032,["class"])]),_:2},1024)]),_:2},1032,["onRight"]))),128))]),_:1})]),f(re,{class:"bg-transparent"},{default:h(()=>[v("div",fe,[o[2]||(o[2]=v("div",{class:"col text-grey-7 text-h6"}," Balance: ",-1)),v("div",{class:k([q($)(C.value),"col text-h6 text-right"])},D(q(R)(C.value)),3)]),f(ie,{onSubmit:w,class:"row q-px-sm q-pb-sm q-col-gutter-sm bg-primary"},{default:h(()=>[v("div",he,[f(I,{ref_key:"nameRef",ref:x,modelValue:p.name,"onUpdate:modelValue":o[0]||(o[0]=r=>p.name=r),outlined:"",placeholder:"Name",dense:"","bg-color":"white"},null,8,["modelValue"])]),v("div",pe,[f(I,{modelValue:p.amount,"onUpdate:modelValue":o[1]||(o[1]=r=>p.amount=r),modelModifiers:{number:!0},outlined:"","input-class":"text-right",placeholder:"Amount",type:"number",step:"0.01",dense:"","bg-color":"white"},null,8,["modelValue"])]),v("div",ge,[f(ee,{type:"submit",round:"",icon:"add",color:"primary"})])]),_:1})]),_:1})]),_:1}))}});export{we as default};
